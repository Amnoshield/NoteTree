(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const m=`<div class='text-wrapper'>
	<textarea class="text" readonly>{{ text }}</textarea>
</div>
<div class="children"></div>`;class a{save(){return JSON.parse('{			"name":"test"		}')}load(e){throw new Error("Method not implemented.")}setParent(e){throw this.parent=e,new Error("Method not implemented.")}removeParent(e){throw new Error("Method not implemented.")}addChild(e){throw this.childArea.insertBefore(e.getWrapper(),null),this.children.push(e),e.setParent(this),new Error("Method not implemented.")}removeChild(e){if(this.children.includes(e))throw e.removeParent(this),new Error("Method not implemented.")}dblClick=e=>{e.preventDefault();const s=Number(this.textArea.dataset.caret??0);this.textArea.readOnly=!1,this.textArea.focus(),this.textArea.setSelectionRange(s,s),this.textArea.classList.toggle("selection-disabled",!1),this.textArea.addEventListener("focusout",this.lock),this.textArea.removeEventListener("dblclick",this.dblClick)};lock=e=>{this.textArea.removeEventListener("focusout",this.lock),this.textArea.addEventListener("dblclick",this.dblClick),this.textArea.readOnly=!0,this.textArea.blur(),this.wrapper.focus(),this.textArea.classList.toggle("selection-disabled",!0)};trackCaretPosition=e=>{this.textArea.readOnly&&(this.textArea.dataset.caret=String(this.textArea.selectionStart??0))};startDrag=e=>{document.activeElement!==this.textArea&&(this.Xmouse=e.clientX,this.Ymouse=e.clientY,document.addEventListener("mouseup",this.stopDrag),document.addEventListener("mousemove",this.elementDrag))};elementDrag=e=>{e.preventDefault();var s=this.Xmouse-e.clientX,i=this.Ymouse-e.clientY;this.Xmouse=e.clientX,this.Ymouse=e.clientY,this.Xpos-=s,this.Ypos-=i,this.setPos(this.Xpos,this.Ypos)};stopDrag=e=>{document.removeEventListener("mouseup",this.stopDrag),document.removeEventListener("mousemove",this.elementDrag),this.textArea.blur(),this.wrapper.focus()};setPos(e,s){this.wrapper.style.left=e+"px",this.wrapper.style.top=s+"px"}constructor(e,s){this.parent=null;var i,t;if(s!==void 0&&(i=s.text,t=s.pos),this.Xpos=0,this.Ypos=0,t!==void 0)this.Xpos=t.x,this.Ypos=t.y;else{var r=window.innerWidth/2,o=window.innerHeight/2,c=e.offsetLeft,p=e.offsetTop;this.Xpos=r-c,this.Ypos=o-p}this.children=[],i==null&&(i="");var u=m.replace("{{ text }}",i);this.Xmouse=0,this.Ymouse=0,this.wrapper=document.createElement("div"),this.wrapper.setAttribute("class","tree-node"),this.setPos(this.Xpos,this.Ypos),this.wrapper.innerHTML=u,this.wrapper.style.position="absolute",this.wrapper.addEventListener("mousedown",this.startDrag);const l=this.wrapper.getElementsByTagName("textarea")[0];if(l!==void 0)this.textArea=l;else throw new Error("Error: textarea element not found");const d=this.wrapper.getElementsByClassName("children")[0];if(d!==void 0)this.childArea=d;else throw new Error("Children class not found");this.textArea.addEventListener("dblclick",this.dblClick),this.textArea.addEventListener("mousedown",this.trackCaretPosition),this.textArea.classList.toggle("selection-disabled",!0),e.insertAdjacentElement("beforeend",this.wrapper)}getWrapper(){return this.wrapper}wrapper;textArea;childArea;children;parent;Xmouse;Ymouse;Xpos;Ypos}const n=document.getElementById("canvas");if(n!==null){var f=new a(n,{text:"1asdfasdfadsf",pos:{x:50,y:100}}),v=new a(n,{text:"2"});new a(n),f.addChild(v)}
