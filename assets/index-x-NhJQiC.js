(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(e){if(e.ep)return;e.ep=!0;const i=r(e);fetch(e.href,i)}})();const A=`<div class="text-wrapper">
	<div class='text-extra-boarder'>
		<textarea class="text" readonly>{{ text }}</textarea>
	</div>
</div>
<div class="children"></div>`;class o{addToCanvas(){this.parent==null&&this.canvas.insertAdjacentElement("beforeend",this.wrapper)}updateChildWidth(){if(this.parent!==null){this.parent.updateChildWidth();return}for(var t=[],r=0;;){const i=this.getWidthAtDepth(r);if(i==null)break;var s=0;i.forEach(a=>{a>s&&(s=a)}),t.push(s),r++}const e=t[0];e!==void 0&&this.updateWidth(e,t.slice(1))}getWidthAtDepth(t){if(t==0)return[this.getWidth()];if(this.children!=null){var r=[];if(this.children.forEach(s=>{var e=s.getWidthAtDepth(t-1);e!==void 0&&e.forEach(i=>{r.push(i)})}),r.length!=0)return r}}updateWidth(t,r){if(this.textWrapper.style.width=t+"px",r.length!==0){const s=r[0];s!==void 0&&this.children.forEach(e=>{e.updateWidth(s,r.slice(1))})}}checkWidthUpdate=()=>{this.textArea.offsetWidth!==this.lastTextAreaWidth&&(this.parent!==null?this.parent.updateChildWidth():this.updateChildWidth(),this.lastTextAreaWidth=this.textArea.offsetWidth)};save(){return JSON.parse('{			"name":"test"		}')}load(t){throw new Error("Method not implemented.")}setParent(t){this.parent=t,this.wrapper.style.position="initial"}removeParent(t){this.wrapper.style.position="absolute",this.parent=null,this.addToCanvas()}addChild(t){this.childArea.insertBefore(t.getWrapper(),null),this.children.push(t),t.setParent(this)}removeChild(t){if(this.children.includes(t)){t.removeParent(this);var r=this.children.indexOf(t);this.children.splice(r,1),this.childArea.removeChild(t.getWrapper())}}dblClick=t=>{t.preventDefault();const r=Number(this.textArea.dataset.caret??0);this.textArea.readOnly=!1,this.textArea.focus(),this.textArea.setSelectionRange(r,r),this.textArea.classList.toggle("selection-disabled",!1),this.textArea.addEventListener("focusout",this.lock),this.textArea.removeEventListener("dblclick",this.dblClick)};lock=t=>{this.textArea.removeEventListener("focusout",this.lock),this.textArea.addEventListener("dblclick",this.dblClick),this.textArea.readOnly=!0,this.textArea.blur(),this.wrapper.focus(),this.textArea.classList.toggle("selection-disabled",!0)};trackCaretPosition=t=>{this.textArea.readOnly&&(this.textArea.dataset.caret=String(this.textArea.selectionStart??0))};startDrag=t=>{document.activeElement===this.textArea||this.parent!==null||(this.Xmouse=t.clientX,this.Ymouse=t.clientY,document.addEventListener("mouseup",this.stopDrag),document.addEventListener("mousemove",this.elementDrag))};elementDrag=t=>{t.preventDefault();var r=this.Xmouse-t.clientX,s=this.Ymouse-t.clientY;this.Xmouse=t.clientX,this.Ymouse=t.clientY,this.Xpos-=r,this.Ypos-=s,this.setPos(this.Xpos,this.Ypos)};stopDrag=t=>{document.removeEventListener("mouseup",this.stopDrag),document.removeEventListener("mousemove",this.elementDrag),this.textArea.blur(),this.wrapper.focus()};setPos(t,r){this.wrapper.style.left=t+"px",this.wrapper.style.top=r+"px"}constructor(t,r){this.parent=null,this.canvas=t;var s,e;if(r!==void 0&&(s=r.text,e=r.pos),s==null&&(s=""),this.Xpos=0,this.Ypos=0,e!==void 0)this.Xpos=e.x,this.Ypos=e.y;else{var i=window.innerWidth/2,a=window.innerHeight/2,m=t.offsetLeft,w=t.offsetTop;this.Xpos=i-m,this.Ypos=a-w}this.children=[];var g=A.replace("{{ text }}",s);this.Xmouse=0,this.Ymouse=0,this.wrapper=document.createElement("div"),this.wrapper.setAttribute("class","tree-node"),this.setPos(this.Xpos,this.Ypos),this.wrapper.innerHTML=g,this.wrapper.style.position="absolute";const h=this.wrapper.getElementsByTagName("textarea")[0];if(h!==void 0)this.textArea=h;else throw new Error("Error: textarea element not found");const d=this.wrapper.getElementsByClassName("children")[0];if(d!==void 0)this.childArea=d;else throw new Error("Children class not found");this.textArea.addEventListener("dblclick",this.dblClick),this.textArea.addEventListener("mousedown",this.trackCaretPosition),this.textArea.classList.toggle("selection-disabled",!0),this.textArea.addEventListener("mousedown",this.startDrag),this.lastTextAreaWidth=this.textArea.offsetWidth,this.textArea.addEventListener("input",this.checkWidthUpdate);const l=this.wrapper.getElementsByClassName("text-wrapper")[0];if(l!=null)this.textWrapper=l;else throw new Error("text-wrapper class not found");const p=this.wrapper.getElementsByClassName("text-extra-boarder")[0];if(p!=null)this.textExtraBoarder=p;else throw new Error("text-extra-boarder class not found");this.addToCanvas()}getWrapper(){return this.wrapper}getWidth(){var t=parseInt(window.getComputedStyle(this.textExtraBoarder,null).getPropertyValue("padding-left"));return t*=2,this.textArea.offsetWidth+t}lastTextAreaWidth;textExtraBoarder;canvas;wrapper;textWrapper;textArea;childArea;children;parent;Xmouse;Ymouse;Xpos;Ypos}const n=document.getElementById("canvas");if(n!==null){var c=new o(n,{text:"1asdfasdfadsf",pos:{x:50,y:100}}),u=new o(n,{text:"2"}),f=new o(n,{text:"3"}),x=new o(n),E=new o(n,{text:"4"}),W=new o(n,{text:"5"});c.addChild(u),c.addChild(f),f.addChild(x),u.addChild(E),x.addChild(W)}
